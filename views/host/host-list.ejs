<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Host List</title>
  <link rel="stylesheet" href="/src/output.css"/>
</head>
<body class="bg-gray-50 min-h-screen flex flex-col">

  <!-- Navbar -->
  <%- include("../partials/navBar") %>

  <!-- Host List Section -->
  <section class="max-w-7xl mx-auto px-6 py-12 flex-1">
    <h1 class="text-3xl font-bold text-indigo-700 mb-8 text-center">Hosted Products</h1>

    <!-- Responsive grid -->
    <div class="grid gap-6 sm:grid-cols-2 lg:grid-cols-3">
      <% product.forEach(item => { %>
        <div class="bg-white rounded-xl shadow hover:shadow-lg transition overflow-hidden">
          <!-- Product image -->
          <img src="/images/<%= item.image %>" alt="<%= item.name %>" 
               class="w-full h-48 object-cover">

          <!-- Product details -->
          <div class="p-4">
            <h2 class="text-lg font-semibold text-gray-800"><%= item.name %></h2>
            <p class="text-gray-600 mt-1">Category: <%= item.category %></p>
            <p class="text-indigo-700 font-bold mt-2">â‚¹<%= item.price %></p>

            <!-- Delete button -->
            <form action="/delete/<%= item._id %>" method="POST" class="mt-4">
              <button type="submit" 
                class="w-full bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition">
                Delete
              </button>
            </form>

            <!-- Edit link styled -->
            <a href="/host/edit/<%= item._id %>?editing=true"
               class="block mt-2 w-full text-center bg-amber-500 text-white px-4 py-2 rounded-lg hover:bg-amber-600 transition">
              Edit
            </a>
          </div>
        </div>
      <% }) %>
    </div>

    <!-- Pagination -->
    <div class="flex justify-center items-center gap-3 mt-10">
      <% if (hasPrevPage) { %>
        <a href="/host-list?page=<%= prevPage %>" 
           class="px-4 py-2 bg-gray-200 rounded hover:bg-gray-300">Prev</a>
      <% } %>

      <span class="px-4 py-2 bg-indigo-600 text-white rounded">
        Page <%= currentPage %> of <%= lastPage %>
      </span>

      <% if (hasNextPage) { %>
        <a href="/host-list?page=<%= nextPage %>" 
           class="px-4 py-2 bg-gray-200 rounded hover:bg-gray-300">Next</a>
      <% } %>
    </div>
  </section>

  <!-- Footer -->
  <footer class="bg-gradient-to-r from-indigo-700 via-blue-700 to-indigo-600 text-white text-center py-4">
    <p>&copy; <%= new Date().getFullYear() %> MyApp Host List</p>
  </footer>

</body>
</html>